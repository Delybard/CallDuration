<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Call Duration</title>
  </head>
  <style>
    body {
      background-color: rgb(17, 17, 17);
      color: snow;
    }
  </style>
  <body>
    <h id="top">Time in Call:</h>
    <p id="time"></p>
    <p>or</p>
    <p id="time2"></p>
    <p>Previous Call Duration:</p>
    <p id="time3"></p>
    <p id="time4"></p>
  </body>
  <script type="text/javascript"> 
    function updateTimestamps(startTime, endTime, tag1, tag2){
      let days = (endTime - startTime) / 86400000;
      let hours = (days % 1) * 24;
      let minutes = (hours % 1) * 60;
      document.getElementById(tag1).innerHTML = `Days: ${Math.floor(days)}, Hours: ${Math.floor(hours)}, Minutes: ${Math.floor(minutes)}`;
      hours = (endTime - startTime) / 3600000;
      minutes = (hours % 1) * 60;
      document.getElementById(tag2).innerHTML = `Hours: ${Math.floor(hours)}, Minutes: ${Math.floor(minutes)}`;
    }
    
    function calcTime(){
      let callStart = 1634655360000;
      let callEnd = 1645427760000;
      updateTimestamps(callStart, callEnd, "time3", "time4");
      callStart = callEnd;
      let currentTime = new Date();
      let nowUTC =  Date.UTC(currentTime.getUTCFullYear(), currentTime.getUTCMonth(), currentTime.getUTCDate(), currentTime.getUTCHours(), currentTime.getUTCMinutes(), currentTime.getUTCSeconds());
      updateTimestamps(callStart, nowUTC, "time", "time2");
    }
    calcTime();
    setInterval(calcTime, 30*1000);
  </script>
</html>
